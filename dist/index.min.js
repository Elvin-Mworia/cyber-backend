"use strict";var express=require("express");require("dotenv").config();var app=express(),cors=require("cors"),db=require("./models"),Sequelize=require("sequelize"),postrouter=require("./routes/post"),Auth=require("./routes/auth"),Malware=require("./routes/malware"),Vulns=require("./routes/vulns"),products=require("./routes/resources"),addproduct=require("./routes/products"),productsB=require("./routes/productsBought"),_require=require("./models"),Post=_require.Post,bcrypt=require("bcrypt"),_require2=require("./models"),Users=_require2.Users,_require3=require("./models"),Products=_require3.Products,upload=require("./upload"),uploadPost=require("./uploadPost"),user=require("./routes/users"),comments=require("./routes/Comments"),mpesa=require("./routes/mpesasktpush"),_require4=require(".//routes/Authmiddleware"),accessToken=_require4.accessToken,logger=function(e,r,s){console.log("incoming request"),s()},Allowed_origin=["*"],corOption={origin:Allowed_origin};app.use(cors(corOption)),app.use(express.json()),app.use(express.urlencoded({extended:!0})),app.use(logger),app.use("/images/product",express.static("images/product")),app.use("/images/post",express.static("images/post")),app.use("/posts",postrouter),app.use("/auth",Auth),app.use("/malware",Malware),app.use("/vulns",Vulns),app.use("/resources",products),app.use("/user",user),app.use("/addproduct",upload,addproduct),app.use("/comments",comments),app.use("/productBought",productsB),app.use("/mpesa-online",mpesa),app.use("/mpesa",accessToken);var port=process.env.PORT;db.sequelize.sync({logging:console.log,force:!1}).then(function(){console.log("Connection to the database established"),app.listen(port,function(){console.log("running on port ".concat(port))})}).catch(function(e){return console.log("Something went wrong ".concat(e))});
//# sourceMappingURL=index.min.js.map
